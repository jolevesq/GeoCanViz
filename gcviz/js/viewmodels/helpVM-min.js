(function(){define(["jquery-private","knockout","gcviz-i18n"],function(f,j,k){var g,b,a,h,e,i,d,c;g=function(m,l){var n=function(I,w){var s=this,B=locationPath+"gcviz/images/helpBubble.png",y=locationPath+"gcviz/images/helpOV.png",q=locationPath+"gcviz/images/helpDataSample.png",G=locationPath+"gcviz/images/GCVizLogo.png",E=locationPath+"gcviz/images/helpZoombar.png",D=I.find(".gcviz-head-help"),H=I.find("#help-"+w),r=I.find("#helpbubble-"+w),z=I.find(".gcviz-help-sect"),u=z.find(".gcviz-help-key"),p=z.find(".gcviz-help-map"),A=z.find(".gcviz-help-head"),t=z.find(".gcviz-help-foot"),F=z.find(".gcviz-help-tbdraw"),C=z.find(".gcviz-help-tbnav"),o=z.find(".gcviz-help-tbleg"),v=z.find(".gcviz-help-tbdata"),x=z.find(".gcviz-help-dev");s.mapid=w;s.imgHelpBubble=B;s.imgHelpOV=y;s.imgHelpDataSamp=q;s.imgHelpLogo=G;s.imgHelpZoombar=E;s.urlLogo=k.getDict("%footer-urlgcvizrepo");s.overTitle=k.getDict("%help-overview-title");s.overDesc1=k.getDict("%help-overview-desc1");s.overDesc2=k.getDict("%help-overview-desc2");s.keyTitle=k.getDict("%help-key-title");s.keyFocusNextTitle=k.getDict("%help-key-fntitle");s.keyFocusNext=k.getDict("%help-key-fn");s.keyFocusPrevTitle=k.getDict("%help-key-fptitle");s.keyFocusPrev=k.getDict("%help-key-fp");s.keyZoomTitle=k.getDict("%help-key-zoomtitle");s.keyZoom=k.getDict("%help-key-zoom");s.keyPanTitle=k.getDict("%help-key-pantitle");s.keyPan=k.getDict("%help-key-pan");s.keyEnterTitle=k.getDict("%help-key-entertitle");s.keyEnter=k.getDict("%help-key-enter");s.keySpaceTitle=k.getDict("%help-key-spacetitle");s.keySpace=k.getDict("%help-key-space");s.keyWCAGTitle=k.getDict("%help-key-wcagtitle");s.keyWCAG=k.getDict("%help-key-wcag");s.keyPref=k.getDict("%help-key-pref");s.mapTitle=k.getDict("%help-map-title");s.mapZoom=k.getDict("%help-map-zoom");s.mapZoombar=k.getDict("%help-map-zoombar");s.headTitle=k.getDict("%help-head-title");s.headHelp=k.getDict("%help-head-help");s.headAbout=k.getDict("%help-head-about");s.headPrint=k.getDict("%help-head-print");s.headGoFS=k.getDict("%help-head-gofs");s.headExitFS=k.getDict("%help-head-exfs");s.headMenuTitle=k.getDict("%help-head-menutitle");s.headMenu=k.getDict("%help-head-menu");s.footTitle=k.getDict("%help-foot-title");s.footScalebarTitle=k.getDict("%help-foot-scalebartitle");s.footScalebar=k.getDict("%help-foot-scalebar");s.footArrow=k.getDict("%help-foot-arrow");s.footCoordTitle=k.getDict("%help-foot-coordtitle");s.footCoord=k.getDict("%help-foot-coord");s.drawTitle=k.getDict("%help-draw-title");s.drawColorSelect=k.getDict("%help-draw-colorselect");s.drawLine=k.getDict("%help-draw-line");s.drawLine1=k.getDict("%help-draw-line1");s.drawLine2=k.getDict("%help-draw-line2");s.drawLine3=k.getDict("%help-draw-line3");s.drawLine4=k.getDict("%help-draw-line4");s.drawLine5=k.getDict("%help-draw-line5");s.drawLine6=k.getDict("%help-draw-line6");s.drawText=k.getDict("%help-draw-text");s.drawText1=k.getDict("%help-draw-text1");s.drawText2=k.getDict("%help-draw-text2");s.drawText3=k.getDict("%help-draw-text3");s.drawText4=k.getDict("%help-draw-text4");s.drawText5=k.getDict("%help-draw-text5");s.drawText6=k.getDict("%help-draw-text6");s.drawLength=k.getDict("%help-draw-length");s.drawLength1=k.getDict("%help-draw-length1");s.drawLength2=k.getDict("%help-draw-length2");s.drawLength3=k.getDict("%help-draw-length3");s.drawLength4=k.getDict("%help-draw-length4");s.drawLength5=k.getDict("%help-draw-length5");s.drawLengthEra=k.getDict("%help-draw-lengtherase");s.drawArea=k.getDict("%help-draw-area");s.drawArea1=k.getDict("%help-draw-area1");s.drawArea2=k.getDict("%help-draw-area2");s.drawArea3=k.getDict("%help-draw-area3");s.drawArea4=k.getDict("%help-draw-area4");s.drawArea5=k.getDict("%help-draw-area5");s.drawAreaEra=k.getDict("%help-draw-areaerase");s.drawEraseAll=k.getDict("%help-draw-eraseall");s.drawEraseSel=k.getDict("%help-draw-eraseselect");s.drawEraseSel1=k.getDict("%help-draw-eraseselect1");s.drawEraseSel2=k.getDict("%help-draw-eraseselect2");s.drawEraseSel3=k.getDict("%help-draw-eraseselect3");s.drawEraseSel4=k.getDict("%help-draw-eraseselect4");s.drawUndo=k.getDict("%help-draw-undo");s.drawRedo=k.getDict("%help-draw-redo");s.drawImport=k.getDict("%help-draw-import");s.drawExport=k.getDict("%help-draw-export");s.navTitle=k.getDict("%help-nav-title");s.navZoomtoTitle=k.getDict("%help-nav-zoomtotitle");s.navZoomto=k.getDict("%help-nav-zoomto");s.navZoomto1=k.getDict("%help-nav-zoomto1");s.navZoomto1b=k.getDict("%help-nav-zoomto1b");s.navZoomto1b1=k.getDict("%help-nav-zoomto1b1");s.navZoomto1b2=k.getDict("%help-nav-zoomto1b2");s.navZoomto1b3=k.getDict("%help-nav-zoomto1b3");s.navZoomto1b4=k.getDict("%help-nav-zoomto1b4");s.navZoomto1b5=k.getDict("%help-nav-zoomto1b5");s.navZoomto2=k.getDict("%help-nav-zoomto2");s.navZoomto3=k.getDict("%help-nav-zoomto3");s.navZoomto4=k.getDict("%help-nav-zoomto4");s.navMapInfoTitle=k.getDict("%help-nav-mapinfotitle");s.navPos=k.getDict("%help-nav-pos");s.navPos1=k.getDict("%help-nav-pos1");s.navPos2=k.getDict("%help-nav-pos2");s.navPos3=k.getDict("%help-nav-pos3");s.navPos4=k.getDict("%help-nav-pos4");s.navPos5=k.getDict("%help-nav-pos5");s.navAltOV=k.getDict("%help-nav-ovalt");s.navOV=k.getDict("%help-nav-ov");s.navScaleTitle=k.getDict("%help-nav-scaletitle");s.navScale=k.getDict("%help-nav-scale");s.legTitle=k.getDict("%help-leg-title");s.legDesc1=k.getDict("%help-leg-desc1");s.legDesc2=k.getDict("%help-leg-desc2");s.legDesc3=k.getDict("%help-leg-desc3");s.legSlider=k.getDict("%help-leg-slider");s.legExpand=k.getDict("%help-leg-exp");s.dataTitle=k.getDict("%help-data-title");s.dataAdd=k.getDict("%help-data-add");s.dataSampleTitle=k.getDict("%help-data-sampletitle");s.dataSample=k.getDict("%help-data-sample");s.dataRemove=k.getDict("%help-data-remove");s.devTitle=k.getDict("%help-dev-title");s.devLogoAlt=k.getDict("%help-dev-logoalt");s.devLogo=k.getDict("%help-dev-logo");s.devDesc=k.getDict("%help-dev-desc");s.lblHelpTitle=k.getDict("%help-dialogtitle");s.isHelpDialogOpen=j.observable(false);s.isHelpBubbleDialogOpen=j.observable(false);s.init=function(){s.noMap=(p.length>0)?false:true;s.noFoot=(t.length>0)?false:true;s.noDraw=(F.length>0)?false:true;s.noNav=(C.length>0)?false:true;s.noLeg=(o.length>0)?false:true;s.noData=(v.length>0)?false:true;h=s.isHelpDialogOpen;i=s.isHelpBubbleDialogOpen;e=H;d=r.find("#gcviz-bubble");return{controlsDescendantBindings:true}};s.dialogHelpOk=function(){s.isHelpDialogOpen(false);setTimeout(function(){D.focus()},500)};s.dialogHelpBubbleOk=function(){s.isHelpBubbleDialogOpen(false);d.empty()};s.scrollTo=function(J){if(J==="key"){z.scrollTo(u)}else{if(J==="map"){z.scrollTo(p)}else{if(J==="head"){z.scrollTo(A)}else{if(J==="foot"){z.scrollTo(t)}else{if(J==="draw"){z.scrollTo(F)}else{if(J==="nav"){z.scrollTo(C)}else{if(J==="leg"){z.scrollTo(o)}else{if(J==="data"){z.scrollTo(v)}else{if(J==="dev"){z.scrollTo(x)}}}}}}}}}};s.init()};c=new n(m,l);j.applyBindings(c,m[0]);return c};b=function(){h(true)};a=function(m,n){var l=false;d.empty();d.append(e.find("#"+n).clone());if(m===32){i(true);l=true}return l};return{initialize:g,toggleHelp:b,toggleHelpBubble:a}})}).call(this);
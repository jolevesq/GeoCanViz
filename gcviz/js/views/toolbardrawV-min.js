(function(){define(["jquery-private","gcviz-vm-tbdraw"],function(d,e){var b,f,c,h,g,a;b=function(l){var k,j=l.toolbardraw,i=l.mapframe.id,m="";j.urldownload=l.mapframe.map.urldownload;k=l.find(".gcviz-tbdraw-content");m+='<div class="gcviz-draw-row1">';m+='<div class="row"><div class="gcviz-draw-cholder span5"><button class="gcviz-draw-black" tabindex="0" data-bind="click: function() { selectColorClick(\'black\') }, attr: { alt: tpBlack }, css: {\'gcviz-draw-pickblack\': selectedColor() === \'black\' }"></button><button class="gcviz-draw-blue" tabindex="0" data-bind="click: function() { selectColorClick(\'blue\') }, attr: { alt: tpBlue }, css: {\'gcviz-draw-pickblue\': selectedColor() === \'blue\' }"></button><button class="gcviz-draw-green" tabindex="0" data-bind="click: function() { selectColorClick(\'green\') }, attr: { alt: tpGreen }, css: {\'gcviz-draw-pickgreen\': selectedColor() === \'green\' }"></button><button class="gcviz-draw-red" tabindex="0" data-bind="click: function() { selectColorClick(\'red\') }, attr: { alt: tpRed }, css: {\'gcviz-draw-pickred\': selectedColor() === \'red\' }"></button><button class="gcviz-draw-yellow" tabindex="0" data-bind="click: function() { selectColorClick(\'yellow\') }, attr: { alt: tpYellow }, css: {\'gcviz-draw-pickyellow\': selectedColor() === \'yellow\' }"></button><button class="gcviz-draw-white" tabindex="0" data-bind="click: function() { selectColorClick(\'white\') }, attr: { alt: tpWhite }, css: {\'gcviz-draw-pickwhite\': selectedColor() === \'white\' }"></button></div><div class="span7"><span class="gcviz-colorspanlabel" data-bind="text: lblColor"></span></div></div>';m+=f(j);m+=c(j);m+=h();m+=g();m+=a(j);m+='<div id="diagDrawWCAG'+i+'" data-bind="wcag: { }, uiDialog: { title: WCAGTitle, width: 490, height: 350, ok: dialogWCAGOk, cancel: dialogWCAGCancel, close: dialogWCAGClose, openDialog: \'isDialogWCAG\' }"><div><label for="gcviz-xvalue" class="gcviz-label gcviz-label-wcag" data-bind="text: lblWCAGx"></label><input id="gcviz-xvalue" class="text ui-widget-content ui-corner-all gcviz-input-wcag" data-bind="value: xValue"/><span class="gcviz-message-wcag" data-bind="text: lblWCAGmsgx"></span></div><div><label for="gcviz-yvalue" class="gcviz-label gcviz-label-wcag" data-bind="text: lblWCAGy"></label><input id="gcviz-yvalue" class="text ui-widget-content ui-corner-all gcviz-input-wcag" data-bind="value: yValue"/><span class="gcviz-message-wcag" data-bind="text: lblWCAGmsgy"></span></div><div class="row" data-bind="visible: activeTool() !== \'text\'"><button id="btnAddPt'+i+'" class="span1 gcviz-draw-wcagadd" tabindex="0" data-bind="buttonBlur, click: addCoords"></button><label class="gcviz-label span11 gcviz-draw-lbladd" for="btnAddPt'+i+'" data-bind="text: lblWCAGadd"></label></div><div data-bind="visible: activeTool() !== \'text\'" style="clear: both;"><ul data-bind="template: { name: \'coordsWCAG\', foreach: WCAGcoords }"></ul><script type="text/html" id="coordsWCAG"><li style="white-space: nowrap;"><span data-bind="text: \'x: \' + $data[0] + \', y: \' + $data[1]"></span></li><\/script></div></div>';k.append(m);return(e.initialize(k,i,j))};f=function(k){var j,n="span2",m="",i=k.measureline.enable,l=k.measurearea.enable;if(i&&l){n="span4";j="lblMeasFull"}else{if(i){j="lblMeasLine"}else{if(l){j="lblMeasArea"}}}if(i||l){m+='<div class="row"><div class="'+n+'">';if(i){m+='<button class="gcviz-draw-length" tabindex="0" data-bind="buttonBlur, click: measureLengthClick, attr: { alt: tpMeasureLength }"></button>';if(l){m+='<div class="gcviz-tbseparator"></div>'}}if(l){m+='<button class="gcviz-draw-area" tabindex="0" data-bind="buttonBlur, click: measureAreaClick, attr: { alt: tpMeasureArea }"></button>'}m+="</div>";m+='<div class="span8"><span class="gcviz-drawspanlabel" data-bind="text: '+j+'"></span></div>';m+="</div>"}return m};c=function(j){var i,m="span2",k="",n=j.drawline.enable,l=j.drawtext.enable;if(n&&l){m="span4";i="lblDrawFull"}else{if(n){i="lblDrawLine"}else{if(l){i="lblDrawText"}}}if(n||l){k+='<div class="row"><div class="'+m+'">';if(n){k+='<button class="gcviz-draw-line" tabindex="0" data-bind="buttonBlur, click: drawClick, attr: { alt: tpDraw }"></button>';if(l){k+='<div class="gcviz-tbseparator"></div>'}}if(l){k+='<button class="gcviz-draw-text" tabindex="0" data-bind="buttonBlur, click: textClick, attr: { alt: tpText }"></button>'}k+="</div>";k+='<div class="span8"><span class="gcviz-drawspanlabel" data-bind="text: '+i+'"></span></div>';k+="</div>"}if(l){k+='<div data-bind="uiDialog: { title: lblTextTitle, width: 450, height: 220, ok: dialogTextOk, cancel: dialogTextCancel, close: dialogTextClose, openDialog: \'isTextDialogOpen\' }"><div id="gcviz-draw-inputbox"><form><fieldset><input id="gcviz-textvalue" class="gcviz-draw-textinput text ui-widget-content ui-corner-all" data-bind="value: drawTextValue, valueUpdate: \'afterkeydown\', returnKey: dialogTextOkEnter, attr: { alt: lblTextTitle }"/><div style="clear: both"></div><span data-bind="text: lblTextInfo"></span></fieldset></form></div></div>'}return k};h=function(){var i='<div class="row"><div class="span4"><button class="gcviz-draw-del" tabindex="0" data-bind="buttonBlur, click: eraseClick, attr: { alt: tpErase }, enable: isGraphics"></button><div class="gcviz-tbseparator"></div><button class="gcviz-draw-delsel" tabindex="0" data-bind="buttonBlur, click: eraseSelClick, attr: { alt: tpEraseSel }, enable: isGraphics() && !isWCAG()"></button></div><div class="span8"><span class="gcviz-drawspanlabel" data-bind="text: lblErase"></span></div></div>';return i};g=function(){var i='<div class="row"><div class="span4"><button class="gcviz-draw-undo" tabindex="0" data-bind="buttonBlur, click: undoClick, attr: { alt: tpUndo }, enable: stackUndo().length > 0"></button><div class="gcviz-tbseparator"></div><button class="gcviz-draw-redo" tabindex="0" data-bind="buttonBlur, click: redoClick, attr: { alt: tpRedo }, enable: stackRedo().length > 0"></button></div><div class="span8"><span class="gcviz-drawspanlabel" data-bind="text: lblUndoRedo"></span></div></div>';return i};a=function(i){var j="";if(i.importexport.enable){j='<div class="row"><div class="span4"><input id="fileDialogAnno" type="file" accept="application/json" data-bind="event: { change: importClick }" tabindex="-1"></input><button class="gcviz-draw-imp" tabindex="0" data-bind="buttonBlur, click: launchDialog, attr: { alt: tpImport }"></button><div class="gcviz-tbseparator"></div><button class="gcviz-draw-exp" tabindex="0" data-bind="buttonBlur, click: exportClick, attr: { alt: tpExport }, enable: isGraphics"></button></div><div class="span8"><span class="gcviz-drawspanlabel" data-bind="text: lblImpExp"></span></div></div>'}return j};return{initialize:b}})}).call(this);
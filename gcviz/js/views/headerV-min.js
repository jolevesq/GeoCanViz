(function(){define(["jquery-private","gcviz-vm-header"],function(b,d){var a,c;a=function(j){var e,g,h=j.header,n=h.tools,k=h.about,l=j.mapframe.id,m=h.title.value,i="",f="";j.find("#"+l).prepend('<div id="head'+l+'" class="gcviz-head"></div>');e=j.find(".gcviz-head");g=h.side===1?"-r":"-l";if(typeof m!=="undefined"){i+='<label class="gcviz-head-title-r unselectable">'+m+"</label>"}i+='<div class="gcviz-head-btn-r">';if(k.enable){i+='<button class="gcviz-head-about" tabindex="0" data-bind="buttonBlur, click: aboutClick, tooltip: { content: tpAbout }"></button>';i+='<div data-bind="uiDialog: { title: lblAboutTitle, width: 400, height: 300, ok: dialogAboutOk, close: dialogAboutOk, openDialog: \'isAboutDialogOpen\' }"><span data-bind="text: aboutInfo1"></span><div data-bind="if: aboutType === 2"><a data-bind="attr: { href: aboutURL, title: aboutURLText }, text: aboutURLText" tabindex="0" target="_blank"></a><span data-bind="text: aboutInfo2"></span></div></div>'}if(h.inset){i+='<button class="gcviz-head-inset" tabindex="0" data-bind="buttonBlur, click: insetClick, tooltip: { content: tpInset }"></button>'}if(h.print.enable){i+='<button class="gcviz-head-print" tabindex="0" data-bind="buttonBlur, click: printClick, tooltip: { content: tpPrint }"></button>'}if(h.fullscreen){i+='<button class="gcviz-head-fs gcviz-head-pop" tabindex="0" data-bind="buttonBlur, click: fullscreenClick, tooltip: { content: tpFullScreen }, css: { \'gcviz-head-fs\': isFullscreen() === false, \'gcviz-head-reg\': isFullscreen() === true }"></button>'}i+='<button class="gcviz-head-help" tabindex="0" data-bind="buttonBlur, click: helpClick, tooltip: { content: tpHelp }"></button>';i+="</div>";e.append(i);if(n.enable===true){j.find(".gcviz-head").append('<div id="divToolsOuter'+l+'" class="gcviz-tbcontainer'+g+'" data-bind="attr: { style: xheightToolsOuter }"><div id="divToolsInner'+l+'" class="gcviz-toolsholder" data-bind="attr: { style: xheightToolsOuter }"></div></div>');f='<div id="gcviz-menu'+l+'" class="gcviz-menu" data-bind="uiAccordion: { heightStyle: \'content\', collapsible: true }, attr: { style: xheightToolsOuter }"><h3 class="gcviz-menu-title gcviz-menu-title'+g+'" data-bind="panelBlur"><span data-bind="text: lblMenu"></span></h3><div id="gcviz-menu-cont'+l+'" class="gcviz-menu-cont" data-bind="uiAccordion: { heightStyle: \'content\', collapsible: true, active: false }, attr: { style: xheightToolsInner }">'+c(j,l)+"</div></div>";j.find(".gcviz-toolsholder").append(f)}return(d.initialize(e,l,h))};c=function(i,g){var h=i.toolbardraw,f=i.toolbarnav,e=i.toolbarlegend,k=i.toolbardata,j=["","","",""];if(h.enable){j[h.pos]='<h3 class="gcviz-panel-title" data-bind="panelBlur"><span data-bind="contextHelp: { text: drawTitle; alt: drawAlt; img: imgHelpBubble; id: \'tbdraw'+g+'\'; link: \'gcviz-help-tbdraw\' }"></span></h3><div class="gcviz-tbdraw-content gcviz-tbcontent" gcviz-exp="'+h.expand+'" tabindex="-1"></div>'}if(f.enable){j[f.pos]='<h3 class="gcviz-panel-title gcviz-nav-panel" data-bind="panelBlur"><span data-bind="contextHelp: { text: navTitle; alt: navAlt; img: imgHelpBubble; id: \'tbnav'+g+'\'; link: \'gcviz-help-tbnav\' }"></span></h3><div class="gcviz-tbnav-content gcviz-tbcontent" gcviz-exp="'+f.expand+'" tabindex="-1"></div>'}if(e.enable){j[e.pos]='<h3 class="gcviz-panel-title" data-bind="panelBlur"><span data-bind="contextHelp: { text: legendTitle; alt: legendAlt; img: imgHelpBubble; id: \'tbleg'+g+'\'; link: \'gcviz-help-tbleg\' }"></span></h3><div class="gcviz-tbleg-content gcviz-tbcontent-leg" gcviz-exp="'+e.expand+'" tabindex="-1"></div>'}if(k.enable){j[k.pos]='<h3 class="gcviz-panel-title" data-bind="panelBlur"><span data-bind="contextHelp: { text: dataTitle; alt: dataAlt; img: imgHelpBubble; id: \'tbdata'+g+'\'; link: \'gcviz-help-tbdata\' }"></span></h3><div class="gcviz-tbdata-content gcviz-tbcontent" gcviz-exp="'+k.expand+'" tabindex="-1"></div>'}return j.toString().replace(/,/g,"").replace(/;/g,",")};return{initialize:a}})}).call(this);